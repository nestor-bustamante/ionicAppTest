{"version":3,"sources":["src/app/comment/comment.page.html","src/app/comment/comment-routing.module.ts","src/app/comment/comment.module.ts","src/app/comment/comment.page.scss","src/app/comment/comment.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title size=\\\"large\\\">Publica!</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid size=\\\"12\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-textarea maxlength=\\\"100\\\" rows=\\\"4\\\" placeholder=\\\"Escribe tu comentario aquÃ­...\\\" [(ngModel)]=\\\"description\\\" (keyup)=\\\"getDescription()\\\"></ion-textarea>\\n        <div class=\\\"count-chars\\\">{{ description.length }} / 100</div>\\n\\n        <ion-button color=\\\"primary\\\" id=\\\"save\\\" disabled (click)=\\\"saveDescription()\\\">Aceptar</ion-button>\\n        <ion-button color=\\\"medium\\\" fill=\\\"outline\\\" (click)=\\\"close()\\\">Cancelar</ion-button>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CommentPage } from './comment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CommentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommentPageRoutingModule } from './comment-routing.module';\n\nimport { CommentPage } from './comment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CommentPageRoutingModule\n  ],\n  declarations: [CommentPage]\n})\nexport class CommentPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1lbnQvY29tbWVudC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { Router, ActivatedRoute, NavigationStart } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\nimport { FirestoreService } from '../firestore.service';\nimport { Comment } from '../comment';\n\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.page.html',\n  styleUrls: ['./comment.page.scss'],\n})\nexport class CommentPage implements OnInit {\n\n  state$: Observable<object>;\n  comment: any = null;\n  description = '';\n  user = JSON.parse(window.localStorage.getItem('fb'));\n\n  dataToSave: Comment;\n\n  constructor(\n    public toastController: ToastController,\n    private router: Router,\n    public activatedRoute: ActivatedRoute,\n    private firestoreService: FirestoreService\n  ) {}\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'Perfecto!',\n      duration: 1600\n    });\n    toast.present();\n  }\n\n  saveDescription(): void {\n    this.presentToast();\n    this.dataToSave = {\n      user: window.localStorage.getItem('userName'),\n      userImg: window.localStorage.getItem('userImg'),\n      comment: this.description,\n      latlang: window.localStorage.getItem('latlang')\n    }\n    this.firestoreService.insertar(\"comments\", this.dataToSave).then(() => {\n      this.dataToSave = {} as Comment;\n      console.log('Tarea creada correctamente!');\n    }, (error) => {\n      console.error(error);\n    });\n    setTimeout(() => {\n      this.router.navigateByUrl('/map', { state: { data: { message: this.description } } });\n    }, 2000);\n  }\n\n  getDescription() {\n    const getButton = window.document.getElementById('save');\n    if (this.description.length >= 10) {\n      getButton.removeAttribute('disabled');\n    }\n  }\n\n  close() {\n    this.router.navigate([\"/map\"]);\n  }\n\n  async saveMessage() {\n    const getButton = window.document.getElementById('save');\n    if (this.description.length >= 10) {\n      getButton.removeAttribute('disabled');\n    }\n  }\n\n  ngOnInit() {\n    this.state$ = this.router.events.pipe(\n      filter(e => e instanceof NavigationStart),\n      map(() => this.router.getCurrentNavigation().extras.state)\n    );\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"comment-comment-module-es5.js"}