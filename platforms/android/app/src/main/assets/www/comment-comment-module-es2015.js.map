{"version":3,"sources":["./src/app/comment/comment.page.html","./src/app/comment/comment-routing.module.ts","./src/app/comment/comment.module.ts","./src/app/comment/comment.page.scss","./src/app/comment/comment.page.ts"],"names":[],"mappings":"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","file":"comment-comment-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title size=\\\"large\\\">Publica!</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid size=\\\"12\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-textarea maxlength=\\\"100\\\" rows=\\\"4\\\" placeholder=\\\"Escribe tu comentario aquÃ­...\\\" [(ngModel)]=\\\"description\\\" (keyup)=\\\"getDescription()\\\"></ion-textarea>\\n        <div class=\\\"count-chars\\\">{{ description.length }} / 100</div>\\n\\n        <ion-button color=\\\"primary\\\" id=\\\"save\\\" disabled (click)=\\\"saveDescription()\\\">Aceptar</ion-button>\\n        <ion-button color=\\\"medium\\\" fill=\\\"outline\\\" (click)=\\\"close()\\\">Cancelar</ion-button>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CommentPage } from './comment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CommentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommentPageRoutingModule } from './comment-routing.module';\n\nimport { CommentPage } from './comment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CommentPageRoutingModule\n  ],\n  declarations: [CommentPage]\n})\nexport class CommentPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1lbnQvY29tbWVudC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { Router, ActivatedRoute, NavigationStart } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\nimport { FirestoreService } from '../firestore.service';\nimport { Comment } from '../comment';\n\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.page.html',\n  styleUrls: ['./comment.page.scss'],\n})\nexport class CommentPage implements OnInit {\n\n  state$: Observable<object>;\n  comment: any = null;\n  description = '';\n  user = JSON.parse(window.localStorage.getItem('fb'));\n\n  dataToSave: Comment;\n\n  constructor(\n    public toastController: ToastController,\n    private router: Router,\n    public activatedRoute: ActivatedRoute,\n    private firestoreService: FirestoreService\n  ) {}\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      message: 'Perfecto!',\n      duration: 1600\n    });\n    toast.present();\n  }\n\n  saveDescription(): void {\n    this.presentToast();\n    this.dataToSave = {\n      user: window.localStorage.getItem('userName'),\n      userImg: window.localStorage.getItem('userImg'),\n      comment: this.description,\n      latlang: window.localStorage.getItem('latlang')\n    }\n    this.firestoreService.insertar(\"comments\", this.dataToSave).then(() => {\n      this.dataToSave = {} as Comment;\n      console.log('Tarea creada correctamente!');\n    }, (error) => {\n      console.error(error);\n    });\n    setTimeout(() => {\n      this.router.navigateByUrl('/map', { state: { data: { message: this.description } } });\n    }, 2000);\n  }\n\n  getDescription() {\n    const getButton = window.document.getElementById('save');\n    if (this.description.length >= 10) {\n      getButton.removeAttribute('disabled');\n    }\n  }\n\n  close() {\n    this.router.navigate([\"/map\"]);\n  }\n\n  async saveMessage() {\n    const getButton = window.document.getElementById('save');\n    if (this.description.length >= 10) {\n      getButton.removeAttribute('disabled');\n    }\n  }\n\n  ngOnInit() {\n    this.state$ = this.router.events.pipe(\n      filter(e => e instanceof NavigationStart),\n      map(() => this.router.getCurrentNavigation().extras.state)\n    );\n  }\n\n}\n"],"sourceRoot":"webpack:///"}